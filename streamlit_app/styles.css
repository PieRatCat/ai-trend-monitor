/* Import Libre Baskerville font */
@import url('https://fonts.googleapis.com/css2?family=Libre+Baskerville:wght@400;700&display=swap');

/* ============================================
   RESPONSIVE TYPOGRAPHY - Viewport-based sizing
   ============================================ */

/* Main title - scales with viewport */
h1 {
    color: #2D2D2D !important;
    font-weight: 700 !important;
    font-family: 'Libre Baskerville', 'Georgia', serif !important;
    letter-spacing: -0.5px;
    font-size: clamp(1.5rem, 4vw, 2.5rem) !important;
}

/* Subheaders - scales with viewport */
h2 {
    color: #5D5346 !important;
    font-weight: 700 !important;
    font-family: 'Libre Baskerville', 'Georgia', serif !important;
    letter-spacing: -0.3px;
    font-size: clamp(1.2rem, 3vw, 1.8rem) !important;
}

h3 {
    color: #5D5346 !important;
    font-weight: 700 !important;
    font-family: 'Libre Baskerville', 'Georgia', serif !important;
    letter-spacing: -0.3px;
    font-size: clamp(1rem, 2.5vw, 1.4rem) !important;
}

/* Body text - responsive sizing */
p, div, span, li {
    font-size: clamp(0.9rem, 1.5vw, 1rem) !important;
}

/* ============================================
   RESPONSIVE CONTAINERS
   ============================================ */

/* Card-like containers with responsive padding */
.stContainer {
    background-color: #E8E3D9;
    border-radius: 8px;
    padding: clamp(0.5rem, 2vw, 1rem);
    border: 1px solid #D4CFC3;
}

/* Main content area - max width for readability */
.main .block-container {
    max-width: 100% !important;
    padding-left: clamp(1rem, 3vw, 3rem) !important;
    padding-right: clamp(1rem, 3vw, 3rem) !important;
}

/* ============================================
   RESPONSIVE BUTTONS
   ============================================ */

/* Buttons with responsive sizing */
.stButton>button {
    background-color: #C17D3D;
    color: #F5F3EF;
    border-radius: 6px;
    border: none;
    font-weight: 500;
    font-size: 0.9rem !important;
    padding: 0.5rem 1rem !important;
    white-space: nowrap !important;
    overflow: visible !important;
    min-height: 2.5rem;
    min-width: fit-content !important;
    width: fit-content !important;
    display: inline-block !important;
}

.stButton>button:hover {
    background-color: #A0917A;
}

/* ============================================
   RESPONSIVE METRICS
   ============================================ */

/* Metrics with responsive font sizes */
[data-testid="stMetricValue"] {
    color: #5D5346 !important;
    font-size: 1.1rem !important;
    overflow: visible !important;
    white-space: nowrap !important;
}

[data-testid="stMetricLabel"] {
    color: #2D2D2D !important;
    font-size: 0.9rem !important;
    white-space: normal !important;
    word-wrap: break-word !important;
    overflow: visible !important;
}

[data-testid="stMetricDelta"] {
    font-size: 0.85rem !important;
    overflow: visible !important;
}

/* Prevent metric containers from clipping content */
[data-testid="metric-container"] {
    overflow: visible !important;
    min-width: fit-content !important;
}

/* Ensure column containers don't clip metrics */
[data-testid="column"] {
    overflow: visible !important;
}

/* Prevent entire metric widget from being constrained */
div[data-testid="stMetric"] {
    overflow: visible !important;
    min-width: fit-content !important;
}

/* ============================================
   SIDEBAR RESPONSIVE
   ============================================ */

/* Sidebar styling with darker beige */
[data-testid="stSidebar"] {
    background-color: #E8E3D9;
    min-width: 250px !important;
}

[data-testid="stSidebar"] [data-testid="stMarkdownContainer"] p {
    font-size: clamp(0.85rem, 1.5vw, 0.95rem) !important;
}

/* Fix blank space when sidebar is collapsed - ensure main content expands */
.main .block-container {
    max-width: 100% !important;
    padding-left: 5rem !important;
    padding-right: 5rem !important;
}

/* Adjust padding when sidebar is present/collapsed */
@media screen and (max-width: 768px) {
    .main .block-container {
        padding-left: 2rem !important;
        padding-right: 2rem !important;
    }
}

/* ============================================
   RESPONSIVE INPUTS & DROPDOWNS
   ============================================ */

/* Inputs and dropdowns - responsive */
input, textarea, select, [data-baseweb="select"] {
    color: #2D2D2D !important;
    background-color: #E8E3D9 !important;
    font-size: clamp(0.85rem, 1.5vw, 1rem) !important;
}

[data-baseweb="select"] > div {
    color: #2D2D2D !important;
    background-color: #E8E3D9 !important;
}

/* ============================================
   RESPONSIVE TABLES
   ============================================ */

/* Source statistics table - responsive */
.source-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 16px;
    margin-top: 10px;
    display: table;
}

.source-table th {
    background-color: #E8E3D9;
    color: #2D2D2D;
    padding: 10px 12px;
    text-align: left;
    font-weight: 600;
    border-bottom: 2px solid #C17D3D;
    font-size: 15px;
}

.source-table td {
    padding: 10px 12px;
    border-bottom: 1px solid #E8E3D9;
}

.source-table tr:hover {
    background-color: #F5F2ED;
}

.sentiment-bar {
    display: flex;
    height: 24px;
    border-radius: 3px;
    overflow: visible;
    margin: 2px 0;
    min-width: 100%;
}

.sentiment-segment {
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 14px;
    color: white;
    font-weight: 600;
    min-width: 25px;
}

/* Topics table - responsive */
.topics-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 16px;
}

.topics-table th {
    background-color: #E8E3D9;
    color: #2D2D2D;
    padding: 8px 12px;
    text-align: left;
    font-weight: 600;
    border-bottom: 2px solid #C17D3D;
}

.topics-table td {
    padding: 6px 12px;
    border-bottom: 1px solid #E8E3D9;
}

.topics-table tr:hover {
    background-color: #F5F3EF;
}

.rank-col {
    width: 40px;
    text-align: center;
    color: #888;
    font-weight: 600;
}

.mentions-col {
    width: 80px;
    text-align: right;
    font-weight: 600;
    color: #C17D3D;
}

/* ============================================
   MOBILE BREAKPOINTS - Responsive column stacking
   ============================================ */

/* Force single column layout on narrower screens */
@media screen and (max-width: 1200px) {
    /* Stack 2-column layouts on medium screens */
    [data-testid="column"] {
        min-width: 100% !important;
        max-width: 100% !important;
    }
}

@media screen and (max-width: 1024px) {
    /* Tablet adjustments */
    .main .block-container {
        padding-left: 1.5rem !important;
        padding-right: 1.5rem !important;
    }
}

@media screen and (max-width: 768px) {
    /* Mobile phones */
    .main .block-container {
        padding-left: 1rem !important;
        padding-right: 1rem !important;
    }
    
    /* Larger touch targets for mobile */
    .stButton>button {
        min-height: 3rem;
        font-size: 0.9rem !important;
    }
    
    /* Sidebar auto-collapse on mobile */
    [data-testid="stSidebar"] {
        min-width: 200px !important;
    }
}

@media screen and (max-width: 480px) {
    /* Small mobile phones */
    h1 {
        font-size: 1.5rem !important;
    }
    
    h2 {
        font-size: 1.2rem !important;
    }
    
    h3 {
        font-size: 1rem !important;
    }
}

/* ============================================
   CHART RESPONSIVENESS
   ============================================ */

/* Make matplotlib charts responsive */
.stPlotlyChart {
    width: 100% !important;
}

/* Pyplot charts - maintain size on desktop, responsive on mobile */
[data-testid="stImage"] {
    width: 100% !important;
}

[data-testid="stImage"] img {
    width: 100% !important;
    height: auto !important;
    max-width: 100% !important;
}
